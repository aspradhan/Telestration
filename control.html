<html>
<head>
<script>
	const URL = "ws://localhost:12180/control";
	const CANVAS_W = 1920;
</script>
<script src="js/jquery.min.js"></script>
<script src="js/fabric.min.js"></script>
<script src="js/sockets.js"></script>
<script src="js/viewscreen.js"></script>
<script>
function evalMessage(data) {
	canvas.setWidth(CANVAS_W);
	canvas.setHeight(CANVAS_W * (9/16));
	canvas.loadFromJSON(data, canvas.renderAll.bind(canvas));

	resizeCanvas();
}

$(document).ready( function() {
	canvas = this.__canvas = new fabric.StaticCanvas('c');
	resizeCanvas();

	openSocket(URL);
});
</script>
<link rel="stylesheet" href="css/ui.css">
</head>
	<body>
		<div id="main">
			<div id="canvas-contain" style="max-width:960; max-height: 540px;">
				<div id="indicator"></div>
				<canvas id="c" width="1600" height="900" class="lower-canvas"></canvas>
			</div>

			<div style="display: inline-block; margin-left: 10px">
				<button id="drawing-mode" class="btn btn-info">Cancel drawing mode</button>
				<button id="clear-canvas" class="btn btn-info">Clear</button><br>
				<br>

				<div id="drawing-mode-options">
					<label id="mode" for="drawing-mode-selector">Mode:</label>
					<select id="drawing-mode-selector">
						<option>Pencil</option>
					</select>

					<label for="drawing-line-width">Line width:</label>
					<span class="info">30</span><input type="range" value="30" min="0" max="150" id="drawing-line-width"><br>

					<label for="drawing-color">Line color:</label>
					<input type="color" value="#0000FF" id="drawing-color"><br>
				</div>
			</div>
		</div>
	</body>
</html>